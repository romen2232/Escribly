import{g as R,d as T,j as e,B as I,t as b,L as C,a as H,K as L,r as w,b as O,p as A,A as B,c as _,H as U,u as z,e as F,S as Y,F as $,f as D,C as J,P,h as M,i as K,k as q}from"./index-b43e24a8.js";import{c as G}from"./index-15552ce4.js";function E(s,r){let a;try{a=s()}catch{return}return{getItem:n=>{var t;const c=f=>f===null?null:JSON.parse(f,r==null?void 0:r.reviver),m=(t=a.getItem(n))!=null?t:null;return m instanceof Promise?m.then(c):c(m)},setItem:(n,t)=>a.setItem(n,JSON.stringify(t,r==null?void 0:r.replacer)),removeItem:n=>a.removeItem(n)}}const S=s=>r=>{try{const a=s(r);return a instanceof Promise?a:{then(o){return S(o)(a)},catch(o){return this}}}catch(a){return{then(o){return this},catch(o){return S(o)(a)}}}},Q=(s,r)=>(a,o,n)=>{let t={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:i=>i,version:0,merge:(i,h)=>({...h,...i}),...r},c=!1;const m=new Set,f=new Set;let u;try{u=t.getStorage()}catch{}if(!u)return s((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),a(...i)},o,n);const y=S(t.serialize),N=()=>{const i=t.partialize({...o()});let h;const l=y({state:i,version:t.version}).then(x=>u.setItem(t.name,x)).catch(x=>{h=x});if(h)throw h;return l},g=n.setState;n.setState=(i,h)=>{g(i,h),N()};const j=s((...i)=>{a(...i),N()},o,n);let v;const d=()=>{var i;if(!u)return;c=!1,m.forEach(l=>l(o()));const h=((i=t.onRehydrateStorage)==null?void 0:i.call(t,o()))||void 0;return S(u.getItem.bind(u))(t.name).then(l=>{if(l)return t.deserialize(l)}).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==t.version){if(t.migrate)return t.migrate(l.state,l.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return l.state}).then(l=>{var x;return v=t.merge(l,(x=o())!=null?x:j),a(v,!0),N()}).then(()=>{h==null||h(v,void 0),c=!0,f.forEach(l=>l(v))}).catch(l=>{h==null||h(void 0,l)})};return n.persist={setOptions:i=>{t={...t,...i},i.getStorage&&(u=i.getStorage())},clearStorage:()=>{u==null||u.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>d(),hasHydrated:()=>c,onHydrate:i=>(m.add(i),()=>{m.delete(i)}),onFinishHydration:i=>(f.add(i),()=>{f.delete(i)})},d(),v||j},W=(s,r)=>(a,o,n)=>{let t={storage:E(()=>localStorage),partialize:d=>d,version:0,merge:(d,i)=>({...i,...d}),...r},c=!1;const m=new Set,f=new Set;let u=t.storage;if(!u)return s((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),a(...d)},o,n);const y=()=>{const d=t.partialize({...o()});return u.setItem(t.name,{state:d,version:t.version})},N=n.setState;n.setState=(d,i)=>{N(d,i),y()};const g=s((...d)=>{a(...d),y()},o,n);let j;const v=()=>{var d,i;if(!u)return;c=!1,m.forEach(l=>{var x;return l((x=o())!=null?x:g)});const h=((i=t.onRehydrateStorage)==null?void 0:i.call(t,(d=o())!=null?d:g))||void 0;return S(u.getItem.bind(u))(t.name).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==t.version){if(t.migrate)return t.migrate(l.state,l.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return l.state}).then(l=>{var x;return j=t.merge(l,(x=o())!=null?x:g),a(j,!0),y()}).then(()=>{h==null||h(j,void 0),j=o(),c=!0,f.forEach(l=>l(j))}).catch(l=>{h==null||h(void 0,l)})};return n.persist={setOptions:d=>{t={...t,...d},d.storage&&(u=d.storage)},clearStorage:()=>{u==null||u.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>v(),hasHydrated:()=>c,onHydrate:d=>(m.add(d),()=>{m.delete(d)}),onFinishHydration:d=>(f.add(d),()=>{f.delete(d)})},t.skipHydration||v(),j||g},X=(s,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?Q(s,r):W(s,r),Z=X,V=Z(s=>({category:"POETRY",setCategory:r=>s(()=>({category:r}))}),{name:"category-storage",storage:E(()=>sessionStorage)}),k=G()(V);function ee({unitNumber:s,description:r,backgroundColor:a}){const o=R(a),n=T(o),t=Math.floor(Math.random()*75)+1;return e.jsx(I,{className:`w-full max-w-2xl rounded-xl px-3 py-1.5 ${n?"text-black":"text-white"}`,bgColor:a,children:e.jsxs("header",{className:"flex w-96 items-center justify-between p-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-2xl font-bold",children:b("lessons.Unit")+" "+s}),e.jsx("p",{className:"text-lg",children:r})]}),e.jsx(C,{to:b("/lesson/"+t),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white text-black",children:e.jsx(H,{size:32})})]})})}function te({bgColor:s,lesson:r,extraClasses:a,disabled:o}){const n=["flex flex-col items-center justify-center",a];return o&&n.push("opacity-50 cursor-not-allowed"),e.jsxs("div",{className:n.join(" "),children:[e.jsx(I,{linkTo:b("/lesson")+"/"+r.id,className:"m-6 mt-10 flex h-32 w-32 items-center justify-center rounded-full",bgColor:s,...o&&{disabled:!0},children:e.jsx(L,{className:"w-28 h-28 text-gray-600 hover:text-black"})}),e.jsx(C,{to:b("/lesson")+"/"+r.id,className:"max-w-xs mb-3 text-center font-bold",children:r.lessonName})]})}function se({unit:s,first:r}){const{lessons:a,unitColor:o,unitName:n,unitNumber:t}=s,[c,m]=w.useState(r),f=(u,y)=>{switch(u%4){case 0:case 2:return"self-center";case 1:return y?"self-start":"self-end";case 3:return y?"self-end":"self-start"}};return e.jsxs("div",{className:"py-6 w-1/2",children:[e.jsx("div",{onClick:()=>m(!c),children:e.jsx(ee,{unitNumber:t,description:n,backgroundColor:o})}),e.jsx("div",{className:"flex flex-col items-center justify-center",children:c&&a.map((u,y)=>e.jsx(te,{bgColor:"secondaryYellow-500",lesson:u,extraClasses:f(y,t%2===0)},u.id))})]})}const re=async(s,r)=>{try{return(await O.get(`/api/v1/units/${s}/`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(a){throw new Error(`Error retrieving units by category: ${a}`)}};function ae(){const{category:s}=k(),r=A(),[a,o]=w.useState([]),[n,t]=w.useState(!1);return w.useEffect(()=>{t(!0),re(s,r[B]).then(c=>{o(c),t(!1)}).catch(c=>{console.log(c),t(!1)})},[s]),n?e.jsx("main",{className:"h-full",children:e.jsx(_,{})}):e.jsx("main",{className:"flex h-full w-full flex-col items-center overflow-scroll py-12",children:a.map((c,m)=>e.jsx(se,{unit:c,first:m===0},c.id))})}const ne=({children:s,className:r})=>{const a=["flex h-full min-w-min flex-col items-center border-r-4 p-8",r];return e.jsx("aside",{className:a.join(" "),children:s})},p=({icon:s,title:r,linkTo:a,onClick:o,disabled:n,className:t,bgColor:c})=>{const m=["mt-3.5 flex h-12 w-full items-center justify-start rounded-lg p-6  duration-150 ease-in-out transition",t,n?"cursor-default":"hover:font-bold hover:shadow-inner-dark hover:active:translate-y-1.5 hover:active:shadow-none",c??"hover:bg-secondaryYellow-400"].join(" ");return a?e.jsxs(C,{to:a,className:m,children:[s,e.jsx("span",{className:"ml-4 text-xl",children:r})]}):e.jsx("li",{className:"w-full",children:e.jsxs("button",{className:m,onClick:o,children:[s,e.jsx("span",{className:"ml-4 text-xl",children:r})]})})};function oe(){return e.jsxs("main",{className:"p-6",children:[e.jsx("header",{children:e.jsxs("h1",{className:"text-5xl text-primaryBlue-500",children:["¡Bienvenide a  ",e.jsxs("h3",{className:"font-casualHandy text-primaryPink-500",children:["Scribly",e.jsx("div",{className:"ml-0.5 w-fit rotate-6",children:"!"})]})]})}),e.jsxs("section",{className:"my-6",children:[e.jsxs("h2",{className:"text-2xl",children:["Acerca de  ",e.jsxs("h3",{className:"font-casualHandy text-primaryPink-500",children:["Scribly",e.jsx("div",{className:"ml-0.5 w-fit rotate-6",children:"!"})]})]}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("h3",{className:"font-casualHandy text-primaryPink-500",children:["Scribly",e.jsx("div",{className:"ml-0.5 w-fit rotate-6",children:"!"})]}),"   es una plataforma de aprendizaje de escritura innovadora creada por Romen Medina Beltrán, estudiante de desarrollo web en Granada, España. Este proyecto es respaldado por  ",e.jsx(U,{to:"https://www.aircury.es/",color:"blue",children:"Aircury SL"}),", una empresa comprometida con el avance de la tecnología educativa.   ",e.jsxs("h3",{className:"font-casualHandy text-primaryPink-500",children:["Scribly",e.jsx("div",{className:"ml-0.5 w-fit rotate-6",children:"!"})]}),"   está diseñado para mejorar las habilidades de escritura de manera efectiva y accesible, ofreciendo lecciones interactivas, retroalimentación personalizada y una experiencia motivadora."]})]}),e.jsxs("section",{className:"my-6",children:[e.jsx("h2",{className:"text-2xl",children:" Impacto Potencial"}),e.jsxs("p",{className:"text-lg",children:[e.jsxs("h3",{className:"font-casualHandy text-primaryPink-500",children:["Scribly",e.jsx("div",{className:"ml-0.5 w-fit rotate-6",children:"!"})]}),"    tiene el potencial de revolucionar la educación escrita al beneficiar a estudiantes, profesionales y aspirantes a escritores. Esta plataforma busca hacer que la escritura sea poderosa y accesible para todos. Únete a nosotros en este emocionante viaje para cambiar la forma en que escribimos y desarrollamos nuestras habilidades de comunicación.  ",e.jsxs("h3",{className:"font-casualHandy text-primaryPink-500",children:["Scribly",e.jsx("div",{className:"ml-0.5 w-fit rotate-6",children:"!"})]}),", desarrollado con pasión, ¡está listo para transformar tu escritura!"]})]})]})}const ce=()=>{const{t:s}=z(),[r,a]=w.useState(!1),{setCategory:o,category:n}=k(),t=F(),c=m=>{switch(m){case"POETRY":return e.jsx(p,{icon:e.jsx(q,{className:"h-6 w-6"}),title:s("category.Poetry"),onClick:()=>{o("POETRY"),a(!r)},className:"ml-10 w-48 ",...n==="POETRY"&&!r&&{disabled:!0},bgColor:"hover:bg-primaryBlue-400"});case"PROSE":return e.jsx(p,{icon:e.jsx(K,{className:"h-6 w-6"}),title:s("category.Prose"),onClick:()=>{o("PROSE"),a(!r)},className:"ml-10 w-48 ",...n==="PROSE"&&!r&&{disabled:!0},bgColor:"hover:bg-primaryPink-400"});case"SCRIPT":return e.jsx(p,{icon:e.jsx(M,{className:"h-6 w-6"}),title:s("category.Script"),onClick:()=>{o("SCRIPT"),a(!r)},className:"ml-10 w-48 ",...n==="SCRIPT"&&!r&&{disabled:!0}});default:return null}};return e.jsxs("div",{className:"flex h-full w-full items-center justify-between",children:[e.jsxs(ne,{children:[e.jsx(C,{to:s("/"),children:e.jsx(Y,{})}),e.jsxs("nav",{className:"flex h-full w-64 flex-col items-start justify-between ",children:[e.jsxs("ul",{className:"w-full",children:[e.jsx(p,{icon:e.jsx($,{className:"h-6 w-6"}),title:s("folders.Title"),linkTo:s("/folders")}),e.jsx(p,{icon:e.jsx(D,{className:"h-6 w-6"}),title:s("note.NewNote"),linkTo:s("/note")}),e.jsx(p,{icon:e.jsx(J,{className:"h-6 w-6"}),title:s("category.Title"),onClick:()=>a(!r)}),e.jsxs("div",{className:" flex flex-col",children:[c(n),r&&e.jsxs(e.Fragment,{children:[n!=="POETRY"&&c("POETRY"),n!=="PROSE"&&c("PROSE"),n!=="SCRIPT"&&c("SCRIPT")]})]})]}),e.jsxs("ul",{className:"w-full",children:[e.jsx(p,{icon:e.jsx(P,{className:"h-6 w-6"}),title:s("profile.Title"),linkTo:s("/profile")}),t.pathname===s("/about")&&e.jsx(p,{icon:e.jsx(P,{className:"h-6 w-6"}),title:s("lessons.Title"),linkTo:s("/")}),t.pathname===s("/")&&e.jsx(p,{icon:e.jsx(P,{className:"h-6 w-6"}),title:s("about.Title"),linkTo:s("/about")})]})]})]}),t.pathname===s("/about")&&e.jsx(oe,{}),t.pathname===s("/")&&e.jsx(ae,{})]})};export{ce as default};
