import{g as k,d as L,j as e,B as P,t as C,L as I,a as H,K as O,r as S,b as A,p as B,A as _,c as U,S as v,H as z,u as F,e as Y,F as $,f as D,C as J,P as E,h as M,i as K,k as q,l as G}from"./index-ae7f4dc3.js";import{c as Q}from"./index-9418d869.js";function R(s,r){let a;try{a=s()}catch{return}return{getItem:n=>{var t;const c=x=>x===null?null:JSON.parse(x,r==null?void 0:r.reviver),m=(t=a.getItem(n))!=null?t:null;return m instanceof Promise?m.then(c):c(m)},setItem:(n,t)=>a.setItem(n,JSON.stringify(t,r==null?void 0:r.replacer)),removeItem:n=>a.removeItem(n)}}const b=s=>r=>{try{const a=s(r);return a instanceof Promise?a:{then(o){return b(o)(a)},catch(o){return this}}}catch(a){return{then(o){return this},catch(o){return b(o)(a)}}}},W=(s,r)=>(a,o,n)=>{let t={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:i=>i,version:0,merge:(i,h)=>({...h,...i}),...r},c=!1;const m=new Set,x=new Set;let u;try{u=t.getStorage()}catch{}if(!u)return s((...i)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),a(...i)},o,n);const j=b(t.serialize),N=()=>{const i=t.partialize({...o()});let h;const l=j({state:i,version:t.version}).then(f=>u.setItem(t.name,f)).catch(f=>{h=f});if(h)throw h;return l},w=n.setState;n.setState=(i,h)=>{w(i,h),N()};const p=s((...i)=>{a(...i),N()},o,n);let g;const d=()=>{var i;if(!u)return;c=!1,m.forEach(l=>l(o()));const h=((i=t.onRehydrateStorage)==null?void 0:i.call(t,o()))||void 0;return b(u.getItem.bind(u))(t.name).then(l=>{if(l)return t.deserialize(l)}).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==t.version){if(t.migrate)return t.migrate(l.state,l.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return l.state}).then(l=>{var f;return g=t.merge(l,(f=o())!=null?f:p),a(g,!0),N()}).then(()=>{h==null||h(g,void 0),c=!0,x.forEach(l=>l(g))}).catch(l=>{h==null||h(void 0,l)})};return n.persist={setOptions:i=>{t={...t,...i},i.getStorage&&(u=i.getStorage())},clearStorage:()=>{u==null||u.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>d(),hasHydrated:()=>c,onHydrate:i=>(m.add(i),()=>{m.delete(i)}),onFinishHydration:i=>(x.add(i),()=>{x.delete(i)})},d(),g||p},X=(s,r)=>(a,o,n)=>{let t={storage:R(()=>localStorage),partialize:d=>d,version:0,merge:(d,i)=>({...i,...d}),...r},c=!1;const m=new Set,x=new Set;let u=t.storage;if(!u)return s((...d)=>{console.warn(`[zustand persist middleware] Unable to update item '${t.name}', the given storage is currently unavailable.`),a(...d)},o,n);const j=()=>{const d=t.partialize({...o()});return u.setItem(t.name,{state:d,version:t.version})},N=n.setState;n.setState=(d,i)=>{N(d,i),j()};const w=s((...d)=>{a(...d),j()},o,n);let p;const g=()=>{var d,i;if(!u)return;c=!1,m.forEach(l=>{var f;return l((f=o())!=null?f:w)});const h=((i=t.onRehydrateStorage)==null?void 0:i.call(t,(d=o())!=null?d:w))||void 0;return b(u.getItem.bind(u))(t.name).then(l=>{if(l)if(typeof l.version=="number"&&l.version!==t.version){if(t.migrate)return t.migrate(l.state,l.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return l.state}).then(l=>{var f;return p=t.merge(l,(f=o())!=null?f:w),a(p,!0),j()}).then(()=>{h==null||h(p,void 0),p=o(),c=!0,x.forEach(l=>l(p))}).catch(l=>{h==null||h(void 0,l)})};return n.persist={setOptions:d=>{t={...t,...d},d.storage&&(u=d.storage)},clearStorage:()=>{u==null||u.removeItem(t.name)},getOptions:()=>t,rehydrate:()=>g(),hasHydrated:()=>c,onHydrate:d=>(m.add(d),()=>{m.delete(d)}),onFinishHydration:d=>(x.add(d),()=>{x.delete(d)})},t.skipHydration||g(),p||w},Z=(s,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?W(s,r):X(s,r),V=Z,ee=V(s=>({category:"POETRY",setCategory:r=>s(()=>({category:r}))}),{name:"category-storage",storage:R(()=>sessionStorage)}),T=Q()(ee);function te({unitNumber:s,description:r,backgroundColor:a}){const o=k(a),n=L(o),t=Math.floor(Math.random()*75)+1;return e.jsx(P,{className:`w-full max-w-2xl rounded-xl px-3 py-1.5 ${n?"text-black":"text-white"}`,bgColor:a,children:e.jsxs("header",{className:"flex w-96 items-center justify-between p-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-2xl font-bold",children:C("lessons.Unit")+" "+s}),e.jsx("p",{className:"text-lg",children:r})]}),e.jsx(I,{to:C("/lesson/"+t),className:"flex h-12 w-12 items-center justify-center rounded-full bg-white text-black",children:e.jsx(H,{size:32})})]})})}function se({bgColor:s,lesson:r,extraClasses:a,disabled:o}){const n=["flex flex-col items-center justify-center",a];return o&&n.push("opacity-50 cursor-not-allowed"),e.jsxs("div",{className:n.join(" "),children:[e.jsx(P,{linkTo:C("/lesson")+"/"+r.id,className:"m-6 mt-10 flex h-32 w-32 items-center justify-center rounded-full",bgColor:s,...o&&{disabled:!0},children:e.jsx(O,{className:"w-28 h-28 text-gray-600 hover:text-black"})}),e.jsx(I,{to:C("/lesson")+"/"+r.id,className:"max-w-xs mb-3 text-center font-bold",children:r.lessonName})]})}function re({unit:s,first:r}){const{lessons:a,unitColor:o,unitName:n,unitNumber:t}=s,[c,m]=S.useState(r),x=(u,j)=>{switch(u%4){case 0:case 2:return"self-center";case 1:return j?"self-start":"self-end";case 3:return j?"self-end":"self-start"}};return e.jsxs("div",{className:"py-6 w-1/2",children:[e.jsx("div",{onClick:()=>m(!c),children:e.jsx(te,{unitNumber:t,description:n,backgroundColor:o})}),e.jsx("div",{className:"flex flex-col items-center justify-center",children:c&&a.map((u,j)=>e.jsx(se,{bgColor:"secondaryYellow-500",lesson:u,extraClasses:x(j,t%2===0)},u.id))})]})}const ae=async(s,r)=>{try{return(await A.get(`/api/v1/units/${s}/`,{headers:{Authorization:`Bearer ${r}`}})).data}catch(a){throw new Error(`Error retrieving units by category: ${a}`)}};function ne(){const{category:s}=T(),r=B(),[a,o]=S.useState([]),[n,t]=S.useState(!1);return S.useEffect(()=>{t(!0),ae(s,r[_]).then(c=>{o(c),t(!1)}).catch(c=>{console.log(c),t(!1)})},[s]),n?e.jsx("main",{className:"h-full",children:e.jsx(U,{})}):e.jsx("main",{className:"flex h-full w-full flex-col items-center overflow-scroll py-12",children:a.map((c,m)=>e.jsx(re,{unit:c,first:m===0},c.id))})}const oe=({children:s,className:r})=>{const a=["flex h-full min-w-min flex-col items-center border-r-4 p-8",r];return e.jsx("aside",{className:a.join(" "),children:s})},y=({icon:s,title:r,linkTo:a,onClick:o,disabled:n,className:t,bgColor:c})=>{const m=["mt-3.5 flex h-12 w-full items-center justify-start rounded-lg p-6  duration-150 ease-in-out transition",t,n?"cursor-default":"hover:font-bold hover:shadow-inner-dark hover:active:translate-y-1.5 hover:active:shadow-none",c??"hover:bg-secondaryYellow-400"].join(" ");return a?e.jsxs(I,{to:a,className:m,children:[s,e.jsx("span",{className:"ml-4 text-xl",children:r})]}):e.jsx("li",{className:"w-full",children:e.jsxs("button",{className:m,onClick:o,children:[s,e.jsx("span",{className:"ml-4 text-xl",children:r})]})})};function le(){return e.jsxs("main",{className:"p-6",children:[e.jsx("header",{children:e.jsxs("h1",{className:"text-5xl text-primaryBlue-500",children:["¡Bienvenide a ",e.jsx(v,{className:"text-5xl"})]})}),e.jsxs("section",{className:"my-6",children:[e.jsxs("h2",{children:["Acerca de ",e.jsx(v,{className:"text-2xl text-primaryPink-500"})]}),e.jsxs("p",{className:"text-lg",children:[e.jsx(v,{className:"text-lg"}),"   es una plataforma de aprendizaje de escritura innovadora creada por Romen Medina Beltrán, estudiante de desarrollo web en Granada, España. Este proyecto es respaldado por  ",e.jsx(z,{to:"https://www.aircury.es/",color:"blue",children:"Aircury SL"}),", una empresa comprometida con el avance de la tecnología educativa.  ",e.jsx(v,{className:"text-lg"}),"   está diseñado para mejorar las habilidades de escritura de manera efectiva y accesible, ofreciendo lecciones interactivas, retroalimentación personalizada y una experiencia motivadora."]})]}),e.jsxs("section",{className:"my-6",children:[e.jsx("h2",{children:" Impacto Potencial"}),e.jsxs("p",{className:"text-lg",children:[e.jsx(v,{className:"text-lg"}),"   tiene el potencial de revolucionar la educación escrita al beneficiar a estudiantes, profesionales y aspirantes a escritores. Esta plataforma busca hacer que la escritura sea poderosa y accesible para todos. Únete a nosotros en este emocionante viaje para cambiar la forma en que escribimos y desarrollamos nuestras habilidades de comunicación.  ",e.jsx(v,{className:"text-lg"}),", desarrollado con pasión, ¡está listo para transformar tu escritura!"]})]})]})}const de=()=>{const{t:s}=F(),[r,a]=S.useState(!1),{setCategory:o,category:n}=T(),t=Y(),c=m=>{switch(m){case"POETRY":return e.jsx(y,{icon:e.jsx(G,{className:"h-6 w-6"}),title:s("category.Poetry"),onClick:()=>{o("POETRY"),a(!r)},className:"ml-10 w-48 ",...n==="POETRY"&&!r&&{disabled:!0},bgColor:"hover:bg-primaryBlue-400"});case"PROSE":return e.jsx(y,{icon:e.jsx(q,{className:"h-6 w-6"}),title:s("category.Prose"),onClick:()=>{o("PROSE"),a(!r)},className:"ml-10 w-48 ",...n==="PROSE"&&!r&&{disabled:!0},bgColor:"hover:bg-primaryPink-400"});case"SCRIPT":return e.jsx(y,{icon:e.jsx(K,{className:"h-6 w-6"}),title:s("category.Script"),onClick:()=>{o("SCRIPT"),a(!r)},className:"ml-10 w-48 ",...n==="SCRIPT"&&!r&&{disabled:!0}});default:return null}};return e.jsxs("div",{className:"flex h-full w-full items-center justify-between",children:[e.jsxs(oe,{children:[e.jsx(I,{to:s("/"),children:e.jsx(v,{})}),e.jsxs("nav",{className:"flex h-full w-64 flex-col items-start justify-between ",children:[e.jsxs("ul",{className:"w-full",children:[e.jsx(y,{icon:e.jsx($,{className:"h-6 w-6"}),title:s("folders.Title"),linkTo:s("/folders")}),e.jsx(y,{icon:e.jsx(D,{className:"h-6 w-6"}),title:s("note.NewNote"),linkTo:s("/note")}),e.jsx(y,{icon:e.jsx(J,{className:"h-6 w-6"}),title:s("category.Title"),onClick:()=>a(!r)}),e.jsxs("div",{className:" flex flex-col",children:[c(n),r&&e.jsxs(e.Fragment,{children:[n!=="POETRY"&&c("POETRY"),n!=="PROSE"&&c("PROSE"),n!=="SCRIPT"&&c("SCRIPT")]})]})]}),e.jsxs("ul",{className:"w-full",children:[e.jsx(y,{icon:e.jsx(E,{className:"h-6 w-6"}),title:s("profile.Title"),linkTo:s("/profile")}),e.jsx(y,{icon:e.jsx(M,{className:"h-6 w-6"}),title:s("community.Title"),linkTo:s("/community")}),t.pathname===s("/about")&&e.jsx(y,{icon:e.jsx(E,{className:"h-6 w-6"}),title:s("lessons.Title"),linkTo:s("/")}),t.pathname===s("/")&&e.jsx(y,{icon:e.jsx(E,{className:"h-6 w-6"}),title:s("about.Title"),linkTo:s("/about")})]})]})]}),t.pathname===s("/about")&&e.jsx(le,{}),t.pathname===s("/")&&e.jsx(ne,{})]})};export{de as default};
